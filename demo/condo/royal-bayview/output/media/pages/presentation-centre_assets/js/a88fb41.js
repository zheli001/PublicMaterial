/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{641:function(t,e,r){"use strict";r.d(e,"a",(function(){return F}));var o=r(649),n=r.n(o);const h=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class c{static from(data){if(!(data instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,e]=new Uint8Array(data,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const r=e>>4;if(1!==r)throw new Error(`Got v${r} data when expected v1.`);const o=h[15&e];if(!o)throw new Error("Unrecognized array type.");const[n]=new Uint16Array(data,2,1),[l]=new Uint32Array(data,4,1);return new c(l,n,o,data)}constructor(t,e=64,r=Float64Array,data){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+e,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const o=h.indexOf(this.ArrayType),n=2*t*this.ArrayType.BYTES_PER_ELEMENT,c=t*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-c%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${r}.`);data&&data instanceof ArrayBuffer?(this.data=data,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+c+l,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+n+c+l),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+c+l,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+o]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=t)}add(t,e){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=e,r}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return l(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,e,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:n,coords:h,nodeSize:c}=this,l=[0,n.length-1,0],m=[];for(;l.length;){const d=l.pop()||0,f=l.pop()||0,y=l.pop()||0;if(f-y<=c){for(let i=y;i<=f;i++){const c=h[2*i],l=h[2*i+1];c>=t&&c<=r&&l>=e&&l<=o&&m.push(n[i])}continue}const k=y+f>>1,w=h[2*k],M=h[2*k+1];w>=t&&w<=r&&M>=e&&M<=o&&m.push(n[k]),(0===d?t<=w:e<=M)&&(l.push(y),l.push(k-1),l.push(1-d)),(0===d?r>=w:o>=M)&&(l.push(k+1),l.push(f),l.push(1-d))}return m}within(t,e,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:n,nodeSize:h}=this,c=[0,o.length-1,0],l=[],m=r*r;for(;c.length;){const d=c.pop()||0,f=c.pop()||0,k=c.pop()||0;if(f-k<=h){for(let i=k;i<=f;i++)y(n[2*i],n[2*i+1],t,e)<=m&&l.push(o[i]);continue}const w=k+f>>1,M=n[2*w],x=n[2*w+1];y(M,x,t,e)<=m&&l.push(o[w]),(0===d?t-r<=M:e-r<=x)&&(c.push(k),c.push(w-1),c.push(1-d)),(0===d?t+r>=M:e+r>=x)&&(c.push(w+1),c.push(f),c.push(1-d))}return l}}function l(t,e,r,o,n,h){if(n-o<=r)return;const c=o+n>>1;m(t,e,c,o,n,h),l(t,e,r,o,c-1,1-h),l(t,e,r,c+1,n,1-h)}function m(t,e,r,o,n,h){for(;n>o;){if(n-o>600){const c=n-o+1,l=r-o+1,d=Math.log(c),s=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*s*(c-s)/c)*(l-c/2<0?-1:1);m(t,e,r,Math.max(o,Math.floor(r-l*s/c+f)),Math.min(n,Math.floor(r+(c-l)*s/c+f)),h)}const c=e[2*r+h];let i=o,l=n;for(d(t,e,o,r),e[2*n+h]>c&&d(t,e,o,n);i<l;){for(d(t,e,i,l),i++,l--;e[2*i+h]<c;)i++;for(;e[2*l+h]>c;)l--}e[2*o+h]===c?d(t,e,o,l):(l++,d(t,e,l,n)),l<=r&&(o=l+1),r<=l&&(n=l-1)}}function d(t,e,i,r){f(t,i,r),f(e,2*i,2*r),f(e,2*i+1,2*r+1)}function f(t,i,e){const r=t[i];t[i]=t[e],t[e]=r}function y(t,e,r,o){const n=t-r,h=e-o;return n*n+h*h}const k={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},w=Math.fround||(M=new Float32Array(1),t=>(M[0]=+t,M[0]));var M;class x{constructor(t){this.options=Object.assign(Object.create(k),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:e,minZoom:r,maxZoom:o}=this.options;e&&console.time("total time");const n=`prepare ${t.length} points`;e&&console.time(n),this.points=t;const data=[];for(let i=0;i<t.length;i++){const p=t[i];if(!p.geometry)continue;const[e,r]=p.geometry.coordinates,o=w(A(e)),n=w(E(r));data.push(o,n,1/0,i,-1,1),this.options.reduce&&data.push(0)}let h=this.trees[o+1]=this._createTree(data);e&&console.timeEnd(n);for(let t=o;t>=r;t--){const r=+Date.now();h=this.trees[t]=this._createTree(this._cluster(h,t)),e&&console.log("z%d: %d clusters in %dms",t,h.numItems,+Date.now()-r)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let r=((t[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,t[1]));let n=180===t[2]?180:((t[2]+180)%360+360)%360-180;const h=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,n=180;else if(r>n){const t=this.getClusters([r,o,180,h],e),c=this.getClusters([-180,o,n,h],e);return t.concat(c)}const c=this.trees[this._limitZoom(e)],l=c.range(A(r),E(h),A(n),E(o)),data=c.data,m=[];for(const t of l){const e=this.stride*t;m.push(data[e+5]>1?_(data,e,this.clusterProps):this.points[data[e+3]])}return m}getChildren(t){const e=this._getOriginId(t),r=this._getOriginZoom(t),o="No cluster with the specified id.",n=this.trees[r];if(!n)throw new Error(o);const data=n.data;if(e*this.stride>=data.length)throw new Error(o);const h=this.options.radius/(this.options.extent*Math.pow(2,r-1)),c=data[e*this.stride],l=data[e*this.stride+1],m=n.within(c,l,h),d=[];for(const e of m){const r=e*this.stride;data[r+4]===t&&d.push(data[r+5]>1?_(data,r,this.clusterProps):this.points[data[r+3]])}if(0===d.length)throw new Error(o);return d}getLeaves(t,e,r){e=e||10,r=r||0;const o=[];return this._appendLeaves(o,t,e,r,0),o}getTile(t,e,r){const o=this.trees[this._limitZoom(t)],n=Math.pow(2,t),{extent:h,radius:c}=this.options,p=c/h,l=(r-p)/n,m=(r+1+p)/n,d={features:[]};return this._addTileFeatures(o.range((e-p)/n,l,(e+1+p)/n,m),o.data,e,r,n,d),0===e&&this._addTileFeatures(o.range(1-p/n,l,1,m),o.data,n,r,n,d),e===n-1&&this._addTileFeatures(o.range(0,l,p/n,m),o.data,-1,r,n,d),d.features.length?d:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e}_appendLeaves(t,e,r,o,n){const h=this.getChildren(e);for(const e of h){const h=e.properties;if(h&&h.cluster?n+h.point_count<=o?n+=h.point_count:n=this._appendLeaves(t,h.cluster_id,r,o,n):n<o?n++:t.push(e),t.length===r)break}return n}_createTree(data){const t=new c(data.length/this.stride|0,this.options.nodeSize,Float32Array);for(let i=0;i<data.length;i+=this.stride)t.add(data[i],data[i+1]);return t.finish(),t.data=data,t}_addTileFeatures(t,data,e,r,o,n){for(const i of t){const t=i*this.stride,h=data[t+5]>1;let c,l,m;if(h)c=v(data,t,this.clusterProps),l=data[t],m=data[t+1];else{const p=this.points[data[t+3]];c=p.properties;const[e,r]=p.geometry.coordinates;l=A(e),m=E(r)}const d={type:1,geometry:[[Math.round(this.options.extent*(l*o-e)),Math.round(this.options.extent*(m*o-r))]],tags:c};let f;f=h||this.options.generateId?data[t+3]:this.points[data[t+3]].id,void 0!==f&&(d.id=f),n.features.push(d)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,e){const{radius:r,extent:o,reduce:n,minPoints:h}=this.options,c=r/(o*Math.pow(2,e)),data=t.data,l=[],m=this.stride;for(let i=0;i<data.length;i+=m){if(data[i+2]<=e)continue;data[i+2]=e;const r=data[i],o=data[i+1],d=t.within(data[i],data[i+1],c),f=data[i+5];let y=f;for(const t of d){const r=t*m;data[r+2]>e&&(y+=data[r+5])}if(y>f&&y>=h){let t,h=r*f,c=o*f,k=-1;const w=(i/m<<5)+(e+1)+this.points.length;for(const r of d){const o=r*m;if(data[o+2]<=e)continue;data[o+2]=e;const l=data[o+5];h+=data[o]*l,c+=data[o+1]*l,data[o+4]=w,n&&(t||(t=this._map(data,i,!0),k=this.clusterProps.length,this.clusterProps.push(t)),n(t,this._map(data,o)))}data[i+4]=w,l.push(h/y,c/y,1/0,w,-1,y),n&&l.push(k)}else{for(let t=0;t<m;t++)l.push(data[i+t]);if(y>1)for(const t of d){const r=t*m;if(!(data[r+2]<=e)){data[r+2]=e;for(let t=0;t<m;t++)l.push(data[r+t])}}}}return l}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(data,i,t){if(data[i+5]>1){const e=this.clusterProps[data[i+6]];return t?Object.assign({},e):e}const e=this.points[data[i+3]].properties,r=this.options.map(e);return t&&r===e?Object.assign({},r):r}}function _(data,i,t){return{type:"Feature",id:data[i+3],properties:v(data,i,t),geometry:{type:"Point",coordinates:[(e=data[i],360*(e-.5)),C(data[i+1])]}};var e}function v(data,i,t){const e=data[i+5],r=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?Math.round(e/100)/10+"k":e,o=data[i+6],n=-1===o?{}:Object.assign({},t[o]);return Object.assign(n,{cluster:!0,cluster_id:data[i+3],point_count:e,point_count_abbreviated:r})}function A(t){return t/360+.5}function E(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function C(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function O(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e}class I{static isAdvancedMarkerAvailable(map){return google.maps.marker&&!0===map.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(marker){return google.maps.marker&&marker instanceof google.maps.marker.AdvancedMarkerElement}static setMap(marker,map){this.isAdvancedMarker(marker)?marker.map=map:marker.setMap(map)}static getPosition(marker){if(this.isAdvancedMarker(marker)){if(marker.position){if(marker.position instanceof google.maps.LatLng)return marker.position;if(marker.position.lat&&marker.position.lng)return new google.maps.LatLng(marker.position.lat,marker.position.lng)}return new google.maps.LatLng(null)}return marker.getPosition()}static getVisible(marker){return!!this.isAdvancedMarker(marker)||marker.getVisible()}}class L{constructor({markers:t,position:e}){this.markers=t,e&&(e instanceof google.maps.LatLng?this._position=e:this._position=new google.maps.LatLng(e))}get bounds(){if(0===this.markers.length&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const marker of this.markers)t.extend(I.getPosition(marker));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((t=>I.getVisible(t))).length}push(marker){this.markers.push(marker)}delete(){this.marker&&(I.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class P{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return T(t)}}const T=t=>t.map((marker=>new L({position:I.getPosition(marker),markers:[marker]})));class Z extends P{constructor(t){var{maxZoom:e,radius:r=60}=t,o=O(t,["maxZoom","radius"]);super({maxZoom:e}),this.state={zoom:-1},this.superCluster=new x(Object.assign({maxZoom:this.maxZoom,radius:r},o))}calculate(input){let t=!1;const e={zoom:input.map.getZoom()};if(!n()(input.markers,this.markers)){t=!0,this.markers=[...input.markers];const e=this.markers.map((marker=>{const t=I.getPosition(marker);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:marker}}}));this.superCluster.load(e)}return t||(this.state.zoom<=this.maxZoom||e.zoom<=this.maxZoom)&&(t=!n()(this.state,e)),this.state=e,t&&(this.clusters=this.cluster(input)),{clusters:this.clusters,changed:t}}cluster({map:map}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(map.getZoom())).map((t=>this.transformCluster(t)))}transformCluster({geometry:{coordinates:[t,e]},properties:r}){if(r.cluster)return new L({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((t=>t.properties.marker)),position:{lat:e,lng:t}});const marker=r.marker;return new L({markers:[marker],position:I.getPosition(marker)})}}class S{constructor(t,e){this.markers={sum:t.length};const r=e.map((a=>a.count)),o=r.reduce(((a,b)=>a+b),0);this.clusters={count:e.length,markers:{mean:o/e.length,sum:o,min:Math.min(...r),max:Math.max(...r)}}}}class j{render({count:t,position:e},r,map){const svg=`<svg fill="${t>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${t}</text>\n</svg>`,title=`Cluster of ${t} markers`,o=Number(google.maps.Marker.MAX_ZINDEX)+t;if(I.isAdvancedMarkerAvailable(map)){const t=(new DOMParser).parseFromString(svg,"image/svg+xml").documentElement;t.setAttribute("transform","translate(0 25)");const r={map:map,position:e,zIndex:o,title:title,content:t};return new google.maps.marker.AdvancedMarkerElement(r)}const n={position:e,zIndex:o,title:title,icon:{url:`data:image/svg+xml;base64,${btoa(svg)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(n)}}class U{constructor(){!function(t,e){for(let r in e.prototype)t.prototype[r]=e.prototype[r]}(U,google.maps.OverlayView)}}var z;!function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"}(z||(z={}));const N=(t,e,map)=>{map.fitBounds(e.bounds)};class F extends U{constructor({map:map,markers:t=[],algorithmOptions:e={},algorithm:r=new Z(e),renderer:o=new j,onClusterClick:n=N}){super(),this.markers=[...t],this.clusters=[],this.algorithm=r,this.renderer=o,this.onClusterClick=n,map&&this.setMap(map)}addMarker(marker,t){this.markers.includes(marker)||(this.markers.push(marker),t||this.render())}addMarkers(t,e){t.forEach((marker=>{this.addMarker(marker,!0)})),e||this.render()}removeMarker(marker,t){const e=this.markers.indexOf(marker);return-1!==e&&(I.setMap(marker,null),this.markers.splice(e,1),t||this.render(),!0)}removeMarkers(t,e){let r=!1;return t.forEach((marker=>{r=this.removeMarker(marker,!0)||r})),r&&!e&&this.render(),r}clearMarkers(t){this.markers.length=0,t||this.render()}render(){const map=this.getMap();if(map instanceof google.maps.Map&&map.getProjection()){google.maps.event.trigger(this,z.CLUSTERING_BEGIN,this);const{clusters:t,changed:e}=this.algorithm.calculate({markers:this.markers,map:map,mapCanvasProjection:this.getProjection()});if(e||null==e){const e=new Set;for(const r of t)1==r.markers.length&&e.add(r.markers[0]);const r=[];for(const t of this.clusters)null!=t.marker&&(1==t.markers.length?e.has(t.marker)||I.setMap(t.marker,null):r.push(t.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>r.forEach((marker=>I.setMap(marker,null)))))}google.maps.event.trigger(this,z.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((marker=>I.setMap(marker,null))),this.clusters.forEach((t=>t.delete())),this.clusters=[]}renderClusters(){const t=new S(this.markers,this.clusters),map=this.getMap();this.clusters.forEach((e=>{1===e.markers.length?e.marker=e.markers[0]:(e.marker=this.renderer.render(e,t,map),e.markers.forEach((marker=>I.setMap(marker,null))),this.onClusterClick&&e.marker.addListener("click",(t=>{google.maps.event.trigger(this,z.CLUSTER_CLICK,e),this.onClusterClick(t,e,map)}))),I.setMap(e.marker,map)}))}}},649:function(t,e,r){"use strict";t.exports=function t(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var e,i,r;if(Array.isArray(a)){if((e=a.length)!=b.length)return!1;for(i=e;0!=i--;)if(!t(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((e=(r=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=e;0!=i--;)if(!Object.prototype.hasOwnProperty.call(b,r[i]))return!1;for(i=e;0!=i--;){var o=r[i];if(!t(a[o],b[o]))return!1}return!0}return a!=a&&b!=b}}}]);
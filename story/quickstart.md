# Quickstart Guide for Collaborative Story Editing (通用版)

## 概述

本流程适用于任何小说或故事项目。只需指定你的故事名称，系统会自动创建对应的编辑目录（如：tmp/你的故事名/）。请注意：工作流的重点在于**迭代（Iteration）**，而非仅仅是重写。

## 目录结构规范

### 1. 故事发布目录 (`story/你的故事名/`)
- **index.md**: 这是故事的门面，只能包含：
  - 小说名称
  - 作者
  - 目录（Table of Contents）
  - 各章节的链接
  - **严禁**包含附录、写作说明、评分记录或其他杂项。

### 2. 工作目录 (`tmp/你的故事名/`)
这是你的私人实验室，不建议直接发布，但会同步到工作分支。
- **chapter_template.md**: 章节模板，确保布局一致。
  - 必须包含：章节名。
  - 必须包含：导航链接（目录 | 上一章 | 下一章）。
- **current.txt**: 当前正在编辑的内容草稿。用于对已有内容进行修改、补充和优化。
- **score.md**: 针对 `current.txt` 的评分与反馈记录。

## 基本流程

1. **指定故事名称**
   - 例如：`your_story`
   - 系统将自动在 `tmp/your_story/` 下准备好模板、草稿和评分文件。
   - **参考模板**：
     - [章节模板](chapter_template.md)
     - [草稿模板](current_template.txt)
     - [评分模板](score_template.md)

2. **编辑与评分循环**
   1. 使用 `chapter_template.md` 创建新章节。
   2. 在工作目录的 `current.txt` 中编辑现有内容（修改/补充而非全程重写）。
   3. 在工作目录的 `score.md` 中评分并记录反馈。
   4. 修改直到满意，然后输入 "done" 备份记录。

3. **备份说明**
   - 每次 "done" 后，系统会自动将 `current.txt` 和反馈备份为带时间戳的文件，方便追溯。

## 工作建议

- **保持 index.md 纯净**：只留读者需要的信息。
- **分步优化**：利用 `score.md` 的反馈进行针对性改进。
- **模板一致**：章节头部必须有明确的导航链接。

## 分支与发布规范 (Branching & Publishing)

为了保证读者看到的是最干净、稳定的版本，我们采用双分支策略：

### 1. 分支角色
- **`main` (Public)**: **只读/发布分支**。只包含 `story/` 目录下的内容。最终读者访问的分支。
- **`story` / `loney_coder` (Working)**: **写作分支**。包含 `story/`, `tmp/` 以及所有过程性文件、评分和评分模板。协作修改在此分支进行。

### 2. 发布流程 (Publication via Assistant)
为了保证简单与合规，我们采用“告知即发布”的模式。

**操作步骤：**
1. 在写作分支（如 `story`）完成修改并提交（Commit）。
2. 在对话框中告诉 AI Assistant：“**发布小说 [故事名]**”。
   - 例如：“发布小说 loney_coder”。
3. **系统将自动执行以下操作**：
   - 切换到 `main` 分支。
   - 只同步（Checkout）该故事的发布目录（如 `story/loney_coder/`）。
   - 提交更新并推送到远程。
   - 自动切回您的写作分支。

这样可以确保工作流中敏感的 `tmp/` 目录和 `quickstart.md` 指南始终留在开发分支，不会进入公众视野。

---

此文件为启动指示，确保写作过程标准化。